<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home - Rail Sanchalak</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: #f5f7fa;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      width: 100vw;
      box-sizing: border-box;
    }
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      background: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      padding: 0;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: stretch;
    }
    .nav-list {
      list-style: none;
      display: flex;
      gap: 1.5rem;
      margin: 0;
      padding: 0 2rem;
      width: 100vw;
      justify-content: space-between;
    }
    .nav-list li {
      display: inline;
      flex: 1 1 0;
      text-align: center;
    }
    .nav-list a {
      text-decoration: none;
      color: #203a43;
      font-weight: 600;
      font-size: 1rem;
      padding: 16px 0;
      border-radius: 0;
      display: block;
      transition: background 0.2s, color 0.2s;
    }
    .nav-list a:hover, .nav-list a.active {
      background: #ffd700;
      color: #000;
    }
    /* Responsive Navbar */
    @media (max-width: 900px) {
      .nav-list {
        gap: 0.5rem;
        padding: 0 0.5rem;
      }
      .nav-list a {
        font-size: 0.95rem;
        padding: 12px 0;
      }
    }
    @media (max-width: 600px) {
      .navbar {
        flex-direction: column;
        align-items: stretch;
      }
      .nav-list {
        flex-direction: column;
        gap: 0;
        width: 100vw;
        padding: 0;
      }
      .nav-list li {
        text-align: left;
        width: 100%;
      }
      .nav-list a {
        padding: 12px 18px;
        font-size: 0.98rem;
        border-radius: 0;
      }
    }
    @media (max-width: 400px) {
      .nav-list a {
        font-size: 0.89rem;
        padding: 10px 8px;
      }
    }
    #content-area {
      margin-top: 56px;
      width: 100vw;
      min-height: calc(100vh - 56px);
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: #203a43;
      letter-spacing: 1px;
      box-sizing: border-box;
      overflow-y: auto;
    }
    #content-area .container {
      width: 100%;
      max-width: 700px;
      background: #fff;
      padding: 2.5rem 2rem 2rem 2rem;
      border-radius: 18px;
      box-shadow: 0 6px 32px rgba(0,0,0,0.13);
      font-size: 1rem;
      color: #222;
      margin: 2.5rem 1rem;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }
    /* Responsive container and cards */
    @media (max-width: 900px) {
      #content-area .container {
        max-width: 98vw;
        padding: 1.2rem 0.5rem 1.5rem 0.5rem;
        margin: 1.2rem 0.2rem;
      }
    }
    @media (max-width: 600px) {
      #content-area .container {
        max-width: 100vw;
        padding: 0.7rem 0.1rem 1rem 0.1rem;
        margin: 0.5rem 0.1rem;
        border-radius: 8px;
        font-size: 0.97rem;
      }
    }
    @media (max-width: 400px) {
      #content-area .container {
        padding: 0.3rem 0.05rem 0.5rem 0.05rem;
        font-size: 0.93rem;
      }
    }
    /* Search Train styles (scoped to content-area) */
    #content-area .container {
      width: 100%;
      max-width: 700px;
      background: #fff;
      padding: 2.5rem 2rem 2rem 2rem;
      border-radius: 18px;
      box-shadow: 0 6px 32px rgba(0,0,0,0.13);
      font-size: 1rem;
      color: #222;
      margin: 2.5rem 1rem;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }
    @media (max-width: 600px) {
      #content-area .container {
        max-width: 98vw;
        padding: 1.2rem 0.5rem 1.5rem 0.5rem;
        margin: 1.2rem 0.2rem;
      }
    }
    #content-area h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #333;
      font-size: 2rem;
    }
    #content-area label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
      color: #555;
    }
    #content-area input, #content-area select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      font-size: 1rem;
    }
    #content-area button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    #content-area button:hover {
      background-color: #0056b3;
    }
    #content-area .result {
      margin-top: 20px;
      padding: 15px;
      background-color: #e8f0fe;
      border-radius: 5px;
      display: none;
      font-size: 1rem;
    }
    /* Responsive update cards */
    .container .update-cards {
      display: flex;
      flex-wrap: wrap;
      flex-direction: row;
      gap: 18px;
      margin-top: 18px;
      justify-content: center;
    }
    .container .update-card {
      flex: 1 1 250px;
      max-width: 270px;
      min-width: 180px;
      background: #f5f7fa;
      border-left: 6px solid #2196f3;
      border-radius: 10px;
      padding: 18px 18px 12px 18px;
      box-shadow: 0 2px 8px rgba(33,150,243,0.07);
      margin-bottom: 0;
    }
    @media (max-width: 900px) {
      .container .update-card {
        max-width: 48vw;
        min-width: 140px;
        padding: 12px 6px 10px 10px;
      }
    }
    @media (max-width: 600px) {
      .container .update-cards {
        flex-direction: column;
        gap: 10px;
      }
      .container .update-card {
        max-width: 98vw;
        min-width: 90vw;
        padding: 10px 6px 8px 8px;
      }
    }
    @media (max-width: 400px) {
      .container .update-card {
        max-width: 99vw;
        min-width: 98vw;
        padding: 6px 2px 6px 4px;
        font-size: 0.91rem;
      }
    }
    /* Responsive map image */
    #map-area img {
      max-width: 100%;
      max-height: 380px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      width: auto;
      height: auto;
      display: block;
      margin: 0 auto;
    }
    @media (max-width: 600px) {
      #map-area {
        height: 220px !important;
      }
      #map-area img {
        max-height: 180px;
      }
    }
    @media (max-width: 400px) {
      #map-area {
        height: 120px !important;
      }
      #map-area img {
        max-height: 90px;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <ul class="nav-list">
      <li><a href="#search-trains">Search Trains</a></li>
      <li><a href="#alerts">Alerts</a></li>
      <li><a href="#rules">Rules</a></li>
      <li><a href="#updates">Updates</a></li>
      <li><a href="#live-map">Live Map</a></li>
    </ul>
  </nav>
  <div id="content-area"></div>
  <script>
    const navLinks = document.querySelectorAll('.nav-list a');
    const contentArea = document.getElementById('content-area');
    const sectionNames = {
      '#search-trains': 'Search Trains',
      '#alerts': 'Alerts / Notifications',
      '#rules': 'Rules / SOPs',
      '#updates': 'Updates / Analytics',
      '#live-map': 'Live Map / Network Map',
    };
    function showSection(name) {
      // Show blank or section content as needed (no monitor)
      if(name === 'Updates / Analytics') {
        contentArea.innerHTML = `
        <div class="container">
          <h2>Latest Updates</h2>
          <div class="update-cards">
            <div class="update-card" style="border-left:6px solid #2196f3;">
              <div style="font-size:1.1rem; font-weight:600; color:#1565c0;">Weather Alert</div>
              <ul style="margin:8px 0 0 18px; color:#203a43; font-size:0.98rem; padding-left:0;">
                <li>Heavy rainfall expected in the Pune division.</li>
                <li>Monitor track conditions for waterlogging.</li>
                <li>Be prepared for possible speed restrictions.</li>
                <li>Alert maintenance teams for quick response.</li>
                <li>Check for landslide-prone areas on ghat sections.</li>
              </ul>
            </div>
            <div class="update-card" style="border-left:6px solid #ffd600;">
              <div style="font-size:1.1rem; font-weight:600; color:#bfa600;">System Notice</div>
              <ul style="margin:8px 0 0 18px; color:#203a43; font-size:0.98rem; padding-left:0;">
                <li>New Crew Management System version deploys at 23:00 tonight.</li>
                <li>Brief downtime expected (approx. 20 minutes).</li>
                <li>Save all work and logout before 22:55.</li>
                <li>Contact IT support for urgent access issues.</li>
                <li>Review new features in the release notes post-update.</li>
              </ul>
            </div>
            <div class="update-card" style="border-left:6px solid #8e24aa;">
              <div style="font-size:1.1rem; font-weight:600; color:#6a1b9a;">Operational Update</div>
              <ul style="margin:8px 0 0 18px; color:#203a43; font-size:0.98rem; padding-left:0;">
                <li>Block section Kalyan–Kasara under maintenance 01:00–04:00.</li>
                <li>Plan diversions for affected trains in advance.</li>
                <li>Inform station masters and crew about block timings.</li>
                <li>Update train running status in the system.</li>
                <li>Monitor progress and report completion to control.</li>
              </ul>
            </div>
            <div class="update-card" style="border-left:6px solid #43a047;">
              <div style="font-size:1.1rem; font-weight:600; color:#2e7d32;">Safety Reminder</div>
              <ul style="margin:8px 0 0 18px; color:#203a43; font-size:0.98rem; padding-left:0;">
                <li>Verify all caution orders before approving departures.</li>
                <li>Double-check speed restrictions during adverse weather.</li>
                <li>Ensure crew acknowledges all safety instructions.</li>
                <li>Report any missing or unclear orders to control.</li>
                <li>Keep emergency contacts handy for quick escalation.</li>
              </ul>
            </div>
            <div class="update-card" style="border-left:6px solid #d84315;">
              <div style="font-size:1.1rem; font-weight:600; color:#bf360c;">Resource Info</div>
              <ul style="margin:8px 0 0 18px; color:#203a43; font-size:0.98rem; padding-left:0;">
                <li>Additional relief crew available at Lonavala and Igatpuri.</li>
                <li>Contact crew control for deployment requests.</li>
                <li>Ensure relief crew is briefed before assignment.</li>
                <li>Maintain updated contact list for all relief staff.</li>
                <li>Log all deployments in the crew management system.</li>
              </ul>
            </div>
          </div>
        </div>
        `;
        return;
      } else if(name === 'Live Map / Network Map') {
        contentArea.innerHTML = `
          <div class="container">
            <h2>Live Train Map</h2>
            <div id="map-area" style="width:100%; height:400px; background:#e0e7ef; border-radius:12px; display:flex; align-items:center; justify-content:center; color:#555; font-size:1.2rem; margin-top:18px;">
              <svg width="100%" height="380" viewBox="0 0 1024 600" style="max-width:100%; max-height:380px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
                <!-- Background -->
                <rect width="1024" height="600" fill="#e8f5e8"/>
                
                <!-- Map overlay panels -->
                <rect x="10" y="10" width="300" height="120" rx="8" fill="rgba(0,0,0,0.8)"/>
                <text x="25" y="35" fill="white" font-size="14" font-family="Arial">🔍 Balach ✕</text>
                <text x="25" y="55" fill="white" font-size="12">ON TIME 🟡 Delayed 🟢 DelayNE</text>
                <text x="25" y="75" fill="white" font-size="12">🔴 Delayed</text>
                <text x="25" y="95" fill="white" font-size="12">🟡 Cancelled</text>
                
                <!-- Settings button -->
                <rect x="880" y="10" width="120" height="40" rx="8" fill="rgba(0,0,0,0.8)"/>
                <text x="895" y="32" fill="white" font-size="12">⚙️ Settings</text>
                
                <!-- Railway tracks -->
                <!-- Green track (on time) -->
                <path d="M50 350 Q200 320 400 300 Q600 280 800 250" stroke="#28a745" stroke-width="12" fill="none"/>
                <path d="M50 360 Q200 330 400 310 Q600 290 800 260" stroke="#28a745" stroke-width="8" fill="none"/>
                
                <!-- Red track (delayed) -->
                <path d="M200 200 Q400 180 600 160 Q750 150 900 140" stroke="#dc3545" stroke-width="12" fill="none"/>
                <path d="M200 210 Q400 190 600 170 Q750 160 900 150" stroke="#dc3545" stroke-width="8" fill="none"/>
                
                <!-- Yellow track (cancelled) -->
                <path d="M150 280 Q350 260 550 240 Q700 220 850 200" stroke="#ffc107" stroke-width="12" fill="none"/>
                <path d="M150 290 Q350 270 550 250 Q700 230 850 210" stroke="#ffc107" stroke-width="8" fill="none"/>
                
                <!-- Station markers -->
                <circle cx="100" cy="380" r="15" fill="white" stroke="#333" stroke-width="3"/>
                <text x="95" y="385" font-size="12" font-weight="bold" fill="#333">A</text>
                
                <circle cx="200" cy="340" r="15" fill="white" stroke="#333" stroke-width="3"/>
                <text x="195" y="345" font-size="12" font-weight="bold" fill="#333">B</text>
                
                <circle cx="300" cy="320" r="15" fill="white" stroke="#333" stroke-width="3"/>
                <text x="295" y="325" font-size="12" font-weight="bold" fill="#333">C</text>
                
                <circle cx="400" cy="300" r="15" fill="white" stroke="#333" stroke-width="3"/>
                <text x="395" y="305" font-size="12" font-weight="bold" fill="#333">D</text>
                
                <circle cx="500" cy="280" r="15" fill="white" stroke="#333" stroke-width="3"/>
                <text x="495" y="285" font-size="12" font-weight="bold" fill="#333">E</text>
                
                <circle cx="600" cy="260" r="15" fill="white" stroke="#333" stroke-width="3"/>
                <text x="595" y="265" font-size="12" font-weight="bold" fill="#333">F</text>
                
                <circle cx="700" cy="240" r="15" fill="white" stroke="#333" stroke-width="3"/>
                <text x="695" y="245" font-size="12" font-weight="bold" fill="#333">G</text>
                
                <circle cx="800" cy="220" r="15" fill="white" stroke="#333" stroke-width="3"/>
                <text x="795" y="225" font-size="12" font-weight="bold" fill="#333">H</text>
                
                <!-- Search Layers Panel -->
                <rect x="750" y="300" width="250" height="280" rx="8" fill="rgba(0,0,0,0.85)"/>
                <text x="765" y="325" fill="white" font-size="14" font-weight="bold">🔍 Search Layers</text>
                <line x1="765" y1="330" x2="985" y2="330" stroke="rgba(255,255,255,0.3)"/>
                
                <text x="765" y="350" fill="white" font-size="12">📊 Searchy Delays</text>
                <text x="950" y="350" fill="#ffc107" font-size="12">1851K</text>
                
                <text x="765" y="370" fill="white" font-size="12">🟢 Eon intime</text>
                <text x="930" y="370" fill="#ffc107" font-size="12">0,739.1K</text>
                
                <text x="765" y="390" fill="white" font-size="12">🔴 Repentints</text>
                <text x="940" y="390" fill="#ffc107" font-size="12">930.1K</text>
                
                <text x="765" y="410" fill="white" font-size="12">🟡 Bearly Delays</text>
                <text x="930" y="410" fill="#ffc107" font-size="12">269.1K</text>
                
                <text x="765" y="430" fill="white" font-size="12">✅ Cancelled</text>
                <text x="950" y="430" fill="#ffc107" font-size="12">0.97K</text>
                
                <text x="765" y="450" fill="white" font-size="12">🔄 Conentenimu Delays</text>
                <text x="920" y="450" fill="#ffc107" font-size="12">14,507K</text>
                
                <!-- Projected Delay box -->
                <rect x="765" y="470" width="220" height="30" rx="4" fill="rgba(255,255,255,0.9)"/>
                <text x="825" y="488" fill="#333" font-size="12" font-weight="bold">Projected Delay</text>
              </svg>
            </div>
          </div>
        `;
        return;
      } else {
        contentArea.innerHTML = '<div style="height:180px;"></div>';
      }
      setTimeout(() => {
        if(name === 'Search Trains') {
          contentArea.innerHTML = `
          <div class="container">
            <h2>Search Train</h2>
            <form id="searchForm">
              <label for="trainNumber">Train Number</label>
              <input type="text" id="trainNumber" placeholder="e.g., 25022">

              <label for="trainName">Train Name</label>
              <input type="text" id="trainName" placeholder="e.g., Sih Express">

              <label for="trainType">Train Type</label>
              <select id="trainType">
                <option value="">--Select Type--</option>
                <option value="express">Express</option>
                <option value="passenger">Passenger</option>
                <option value="freight">Freight</option>
                <option value="local">Local</option>
                <option value="special">Special</option>
              </select>

              <button type="submit">Search</button>
            </form>

            <div class="result" id="result"></div>
          </div>
          `;
          // Attach form handler after rendering
          const form = document.getElementById('searchForm');
          const resultDiv = document.getElementById('result');
          form.addEventListener('submit', function(e) {
            e.preventDefault();
            const trainNumber = document.getElementById('trainNumber').value;
            const trainName = document.getElementById('trainName').value;
            const trainType = document.getElementById('trainType').value;
            resultDiv.style.display = 'block';
            if (trainNumber === '12135') {
              // Mock data for 12135
              const status = 'Running';
              const delayDuration = 'On time';
              const reason = 'N/A';
              const priority = 'High';
              const origin = 'Mumbai CSMT';
              const destination = 'Solapur';
              const scheduledDep = '14:30';
              const expectedDep = '14:30';
              const scheduledArr = '22:10';
              const expectedArr = '22:10';
              const nextStations = [
                { name: 'Dadar', time: '14:45', platform: '5' },
                { name: 'Kalyan', time: '15:30', platform: '3' },
                { name: 'Pune', time: '18:00', platform: '1' }
              ];
              const currentStation = 'Kalyan';
              const trackSection = 'Central Mainline';
              const journeyPercent = 35;
              const logs = [
                '14:30: Departed Mumbai CSMT',
                '14:45: Arrived Dadar',
                '15:30: Arrived Kalyan'
              ];
              let statusColor = '#4caf50';
              let alertIcon = '';
              if(status === 'Delayed') { statusColor = '#ffc107'; alertIcon = '⚠️'; }
              if(status === 'Canceled' || status === 'Diverted') { statusColor = '#f44336'; alertIcon = '⛔'; }
              resultDiv.innerHTML = `
                <div style="border-left: 6px solid ${statusColor}; padding-left: 16px;">
                  <h3 style="margin-top:0;">${alertIcon} Siddheshwar Express (12135) <span style="font-size:0.9rem; color:#888;">[Express]</span></h3>
                  <div style="margin-bottom:10px;">
                    <strong>Status:</strong> <span style="color:${statusColor}; font-weight:600;">${status}</span> &nbsp; <strong>Delay:</strong> ${delayDuration} &nbsp; <strong>Priority:</strong> ${priority}<br>
                    <strong>Reason:</strong> ${reason}
                  </div>
                  <div style="margin-bottom:10px;">
                    <strong>Route:</strong> ${origin} → ${destination}<br>
                    <strong>Scheduled Dep:</strong> ${scheduledDep} &nbsp; <strong>Expected Dep:</strong> ${expectedDep}<br>
                    <strong>Scheduled Arr:</strong> ${scheduledArr} &nbsp; <strong>Expected Arr:</strong> ${expectedArr}
                  </div>
                  <div style="margin-bottom:10px;">
                    <strong>Next Stops:</strong>
                    <ul style="margin:6px 0 0 18px; padding:0;">
                      ${nextStations.map(s => `<li>${s.name} (${s.time})${s.platform ? ' - Platform ' + s.platform : ''}</li>`).join('')}
                    </ul>
                  </div>
                  <div style="margin-bottom:10px;">
                    <strong>Current Station:</strong> ${currentStation} &nbsp; <strong>Track Section:</strong> ${trackSection}
                  </div>
                  <div style="margin-bottom:10px;">
                    <strong>Journey Progress:</strong>
                    <div style="background:#eee; border-radius:8px; width:100%; height:18px; margin-top:4px;">
                      <div style="background:${statusColor}; width:${journeyPercent}%; height:100%; border-radius:8px;"></div>
                    </div>
                    <span style="font-size:0.95rem;">${journeyPercent}% completed</span>
                  </div>
                  <div style="margin-bottom:10px;">
                    <strong>Controller Tools:</strong>
                    <button style="margin:4px 8px 4px 0; padding:6px 14px; border-radius:6px; border:none; background:#007bff; color:#fff; cursor:pointer;">Re-route</button>
                    <button style="margin:4px 8px 4px 0; padding:6px 14px; border-radius:6px; border:none; background:#007bff; color:#fff; cursor:pointer;">Send Alert</button>
                    <button style="margin:4px 8px 4px 0; padding:6px 14px; border-radius:6px; border:none; background:#007bff; color:#fff; cursor:pointer;">View Coach Info</button>
                  </div>
                  <div style="margin-bottom:10px;">
                    <strong>Logs / History:</strong>
                    <ul style="margin:6px 0 0 18px; padding:0; color:#555; font-size:0.97rem;">
                      ${logs.map(l => `<li>${l}</li>`).join('')}
                    </ul>
                  </div>
                </div>
              `;
            } else {
              resultDiv.innerHTML = '<div style="color:#f44336; font-weight:600;">No data found for this train number.</div>';
            }
          }, 350);
        } else if(name === 'Alerts / Notifications') {
          setTimeout(() => {
            contentArea.innerHTML = `
            <div class="container">
              <h2>Active Alerts</h2>
              <div class="alert-box" style="background:#fff3cd; border-left:6px solid #ffc107; padding:18px 18px 12px 18px; border-radius:10px; margin-bottom:22px;">
                <div style="font-size:1.1rem; font-weight:600; color:#b26a00;">12135 Siddheshwar Express (Express)</div>
                <div style="margin:6px 0 8px 0; color:#555;">Status: <span style="color:#d48806; font-weight:600;">Delayed</span> | Delay: 20 mins | Reason: Signal failure near Kalyan</div>
                <div style="margin-bottom:10px; color:#444;">Suggested Actions:</div>
                <div style="display:flex; gap:10px; flex-wrap:wrap;">
                  <button style="background:#007bff; color:#fff; border:none; border-radius:6px; padding:7px 16px; cursor:pointer;">Send Alert to Crew</button>
                  <button style="background:#28a745; color:#fff; border:none; border-radius:6px; padding:7px 16px; cursor:pointer;">Reroute via Karjat</button>
                  <button style="background:#dc3545; color:#fff; border:none; border-radius:6px; padding:7px 16px; cursor:pointer;">Request Priority Clearance</button>
                </div>
              </div>
              <div class="alert-box" style="background:#f8d7da; border-left:6px solid #f44336; padding:18px 18px 12px 18px; border-radius:10px; margin-bottom:22px;">
                <div style="font-size:1.1rem; font-weight:600; color:#a71d2a;">11019 Konark Express (Express)</div>
                <div style="margin:6px 0 8px 0; color:#555;">Status: <span style="color:#f44336; font-weight:600;">Canceled</span> | Reason: Accident near Bhusaval</div>
                <div style="margin-bottom:10px; color:#444;">Suggested Actions:</div>
                <div style="display:flex; gap:10px; flex-wrap:wrap;">
                  <button style="background:#007bff; color:#fff; border:none; border-radius:6px; padding:7px 16px; cursor:pointer;">Send Alert to Passengers</button>
                  <button style="background:#ffc107; color:#333; border:none; border-radius:6px; padding:7px 16px; cursor:pointer;">Arrange Bus Service</button>
                  <button style="background:#dc3545; color:#fff; border:none; border-radius:6px; padding:7px 16px; cursor:pointer;">Notify Media</button>
                </div>
              </div>
            </div>
            `;
          }, 350);
        } else if(name === 'Rules / SOPs') {
          setTimeout(() => {
            contentArea.innerHTML = `
            <div class="container">
              <h2>Rules / SOPs</h2>
              <div style="margin: 18px 0 10px 0; color: #444; font-size: 1.1rem;">Select Train Type to View Rules:</div>
              <div id="train-type-btns" style="display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin-bottom: 18px;">
                <button data-type="Express" style="background:#007bff; color:#fff; border:none; border-radius:6px; padding:12px 28px; font-size:1rem; cursor:pointer;">Express</button>
                <button data-type="Passenger" style="background:#28a745; color:#fff; border:none; border-radius:6px; padding:12px 28px; font-size:1rem; cursor:pointer;">Passenger</button>
                <button data-type="Freight" style="background:#ffc107; color:#333; border:none; border-radius:6px; padding:12px 28px; font-size:1rem; cursor:pointer;">Freight</button>
                <button data-type="Local" style="background:#6f42c1; color:#fff; border:none; border-radius:6px; padding:12px 28px; font-size:1rem; cursor:pointer;">Local</button>
                <button data-type="Special" style="background:#fd7e14; color:#fff; border:none; border-radius:6px; padding:12px 28px; font-size:1rem; cursor:pointer;">Special</button>
              </div>
              <div id="rules-display" style="margin-top:18px; color:#203a43; font-size:1.08rem;"></div>
              <div style="margin-top:10px; color:#555; font-size:0.98rem;">
                <em>Use the input below to add a new rule for the selected train type. To delete a rule, enter its number and click Delete Rule.</em>
              </div>
              <div id="add-rule-section" style="margin-top:18px; display:none;">
                <input id="new-rule-input" type="text" placeholder="Add new rule..." style="padding:8px; width:60%; border-radius:6px; border:1px solid #bbb; font-size:1rem;">
                <button id="add-rule-btn" style="background:#28a745; color:#fff; border:none; border-radius:6px; padding:8px 18px; font-size:1rem; margin-left:8px; cursor:pointer;">Add Rule</button>
              </div>
              <div id="delete-rule-section" style="margin-top:12px; display:none;">
                <input id="delete-rule-input" type="number" min="1" placeholder="Rule number to delete" style="padding:8px; width:60%; border-radius:6px; border:1px solid #bbb; font-size:1rem;">
                <button id="delete-rule-btn" style="background:#dc3545; color:#fff; border:none; border-radius:6px; padding:8px 18px; font-size:1rem; margin-left:8px; cursor:pointer;">Delete Rule</button>
              </div>
            </div>
            `;
            // Add JS for button interactivity
            const rulesData = {
              'Express': [
                'Stops only at major stations; skip minor halts unless notified by control.',
                'Priority over passenger and local trains; must not be detained except for safety or operational emergencies.',
                'Max speed: 110 km/h; speed restrictions as per sectional limits.',
                'Advance signal clearance required at all block stations.',
                'Crew must check and acknowledge all caution orders before departure.',
                'In case of delay, station master must inform control and update expected arrival/departure.',
                'Coach composition changes only with prior approval from control.',
                'No unscheduled stops except for medical or technical emergencies.'
              ],
              'Passenger': [
                'Stops at all stations on route; must adhere to timetable strictly.',
                'Moderate speed: up to 80 km/h; observe all permanent and temporary speed restrictions.',
                'Platform allocation may change frequently; crew must check platform chart at each station.',
                'Boarding/alighting to be supervised by guard at all stations.',
                'In case of overcrowding, additional coaches may be attached with control approval.',
                'Delay reporting mandatory if running late by more than 10 minutes.',
                'Must yield to express and high-priority trains at crossing stations.'
              ],
              'Freight': [
                'Runs mostly at night or off-peak hours; schedule as per control instructions.',
                'Lower priority than passenger/express; may be stabled at loop lines for crossing.',
                'Special handling for hazardous goods: crew must carry and check all safety documents.',
                'Brake power test mandatory before departure and after any detachment/attachment.',
                'Crew must check wagon seals and report any tampering immediately.',
                'Speed limit: 60 km/h unless otherwise specified for specific wagons.',
                'No unauthorized personnel allowed in brake van or engine.'
              ],
              'Local': [
                'High frequency, short distance; must maintain headway as per suburban timetable.',
                'Stops at every station; dwell time not to exceed 1 minute except at terminals.',
                'Platform and track changes are common; crew must check working orders daily.',
                'Crowd management protocols to be followed during peak hours.',
                'Immediate reporting of any technical issue to control for quick turnaround.',
                'No parcel or luggage vans unless specifically authorized.'
              ],
              'Special': [
                'Runs for festivals, emergencies, or charters; operational order issued for each run.',
                'Crew must attend special briefing before duty.',
                'Security and medical staff to be deployed as per order.',
                'Stops and timings may be flexible; must follow real-time instructions from control.',
                'Priority and route as per control; may override regular trains if authorized.'
              ]
            };
            let currentType = null;
            document.querySelectorAll('#train-type-btns button').forEach(btn => {
              btn.addEventListener('click', function() {
                const type = this.getAttribute('data-type');
                currentType = type;
                const rules = rulesData[type] || [];
                const rulesHtml = rules.length
                  ? `<strong>${type} Train Rules:</strong><ol style='margin:8px 0 0 18px;' id='rules-list'>${rules.map((r, i) => `<li>${r}</li>`).join('')}</ol>`
                  : 'No rules found.';
                document.getElementById('rules-display').innerHTML = rulesHtml;
                // Show add rule and delete rule section and set current type
                document.getElementById('add-rule-section').style.display = 'block';
                document.getElementById('delete-rule-section').style.display = 'block';
                document.getElementById('add-rule-section').setAttribute('data-type', type);
                document.getElementById('delete-rule-section').setAttribute('data-type', type);
                document.getElementById('new-rule-input').value = '';
                document.getElementById('delete-rule-input').value = '';
              });
            });
            // Delete rule by number handler
            document.addEventListener('click', function(e) {
              if(e.target && e.target.id === 'delete-rule-btn') {
                const delSection = document.getElementById('delete-rule-section');
                const type = currentType;
                const input = document.getElementById('delete-rule-input');
                const ruleNum = parseInt(input.value, 10);
                if(type && rulesData[type] && !isNaN(ruleNum) && ruleNum >= 1 && ruleNum <= rulesData[type].length) {
                  rulesData[type].splice(ruleNum - 1, 1);
                  // Refresh the rules list
                  const rules = rulesData[type];
                  const rulesHtml = rules.length
                    ? `<strong>${type} Train Rules:</strong><ol style='margin:8px 0 0 18px;' id='rules-list'>${rules.map((r, i) => `<li>${r}</li>`).join('')}</ol>`
                    : 'No rules found.';
                  document.getElementById('rules-display').innerHTML = rulesHtml;
                  input.value = '';
                }
              }
            });
            // Add rule button handler
            document.addEventListener('click', function(e) {
              if(e.target && e.target.id === 'add-rule-btn') {
                const addSection = document.getElementById('add-rule-section');
                const type = currentType;
                const input = document.getElementById('new-rule-input');
                const rule = input.value.trim();
                if(rule && type && rulesData[type]) {
                  rulesData[type].push(rule);
                  const rulesList = document.getElementById('rules-list');
                  if(rulesList) {
                    // Re-render the rules list to update numbering
                    const rules = rulesData[type];
                    const rulesHtml = rules.length
                      ? `<strong>${type} Train Rules:</strong><ol style='margin:8px 0 0 18px;' id='rules-list'>${rules.map((r, i) => `<li>${r}</li>`).join('')}</ol>`
                      : 'No rules found.';
                    document.getElementById('rules-display').innerHTML = rulesHtml;
                  }
                  input.value = '';
                }
              }
            });
          }, 350);
        } else {
          setTimeout(() => {
            contentArea.innerHTML = '<div></div>';
          }, 350);
        }
      }, 350);
    }
    navLinks.forEach(link => {
      link.addEventListener('click', function() {
        const sectionId = this.getAttribute('href');
        const sectionName = sectionNames[sectionId];
        navLinks.forEach(lnk => lnk.classList.remove('active'));
        this.classList.add('active');
        showSection(sectionName);
      });
    });
    // Initialize first section
    showSection('Search Trains');
    // Navigation logic
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const section = this.getAttribute('data-section');
        navLinks.forEach(lnk => lnk.classList.remove('active'));
        this.classList.add('active');
        // Section monitor logic
        if(section === 'rules') {
          document.getElementById('section-monitor').style.display = 'block';
          document.getElementById('active-section-name').textContent = 'Rules';
          // Simulate occupancy (random for demo)
          document.getElementById('section-occupancy').textContent = Math.floor(Math.random()*10)+1;
        } else {
          document.getElementById('section-monitor').style.display = 'none';
        }
        showSection(section);
      });
    });
  </script>
</body>
</html>